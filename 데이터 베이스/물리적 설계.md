# 물리적 설계
#데이터 베이스/물리적 설계

---
## 데이터베이스의 물리적 설계
물리적 설계란?
- 논리적 스키마를 이용하여 효율적인 물리적 데이터베이스를 구성하는 일

물리적 데이터베이스의 구조
- 저장 레코드의 형식, 저장 순서, 접근 경로, 물리적 저장 장치의 할당등에 대한 내역

참고 사항
- 물리적 DB구조는 세부적인 성능에 영향을 미침
- 물리적 설계 단계에서 고려할 사항들의 대부분은 특정 DBMS에 의해서 해결됨
- DBA만이 물리적 DB 구조의 구성에 관여할 수 있음

## 파일 구성
파일 구성이란?
- 데이터베이스는 여러 개의 파일로 저장
- 파일은 여러 개의 레코드를 저장
- 레코드는 여러 개의 필드로 구성

고려 사항
- 레코드의 표현 방법(고정 vs 가변)
- 파일에서 레코드 저장 방법(순차 vs 클러스터링)

### 레코드의 표현 방법
고정 길이 레코드
- 모든 레코드의 길이를 동일하게 표현
- n이 레코드의 길이라고 할 때, i번째 레코드는 n*(i-1) 위치에 저장
- 블록의 경계를 넘어서는 레코드는 없도록 할 것.
- 장점: 구현이 용이

i번째 레코드가 삭제?
- 아래 레코들을 한칸씩 위로 이동
- 마지막 레코드를 i번째로 이동
- Free list로 연결
    - 파일 헤더에 첫번째 삭제 레도크의 위치를 저장
    - 각각의 삭제 레코드에 다음 삭제 레코드의 위치를 저장

![](./img/물설_1.PNG)

가변 길이 레코드
- 필드의 순서는 고정
- 가변 필드 위치에(offset, length)의 고정된 정보만 저장하고 실제 데이터는 offset 위치에 저장
- Null-value bitmap: 속성당 1비트, Null 속성은 1로 set

![](./img/물설_2.PNG)

### 파일에서 레코드 저장 방법
Heap 방식
- 파일 내에 임의의 위치(들어온 순서대로 저장)

순차 파일 구성
- 레코드를 키 순서대로 저장

해싱
- 키에 대한 해시 값을 레코드의 저장 위치로 결정

다중-테이블 클러스터링 파일 구성
- 여러 개의 릴레이션을 하나의 파일에 저장
