# Logical Design
#데이터베이스/Logical Design

---
## ER모델에서 관계형 모델로 변환
7가지 단계로 진행
- 단계 1: 일반 Entity Type의 변환
- 단계 2: Weak Enttiy Type의 변환
- 단계 3: 이진 1:1 관계의 변환
- 단계 4: 이진 1:N 관계의 변환
- 단계 5: 이진 M:N 관계의 변환
- 단계 6: 다중치 속성의 변환
- 단계 7: N-ary 관계의 변환

변환에서 지켜야 할 지침
- 테이블 수를 줄이자
- Null 속성을 줄이자

### 일반 Entity Type의 변환
일반 Entity Type E는 하나의 테이블 R로 변환
- E의 키가 여러 개일 경우, 그 중 하나를 R의 키로 지정
    - 나머지 키들에 대한 정보도 유지(unique 속성)
- E의 키가 복합 속성이면, 분해하여 모두 R의 키로 지정

### Weak Entity Type의 변환
Weak entity W와 owner enitty E가 주어질 때 W를 아래와 같이 하나의 테이블 R로 변경
- W의 모든 속성을 R의 속성으로 변환
- E의 키 속성을 R 외래키로 추카
- (E의 키, W의 구별자) 쌍이 R의 키

### 이진 1:1 관계의 변환
외래키 방법
- 완전 참여 테이블 S에 T의 주키를 외래키로 저장

하나의 테이블로 병합
- S와 T를 하나의 테이블로 병합
- 두 테이블 모두 R에 완전 참여일 경우, 가능
- 그렇지 않을 경우, Null 속성 생성

관계 테이블 R을 생성(3개의 테이블)
- S와 T의 키를 외래키로 포함
- 완전 참여 테이블의 키가 R의 키

### 이진 1:N 관계의 변환
N에 해당하는 테이블 S에 1에 해당하는 테이블 T의 키를 외래키로 추가

### 이진 M:N 관계의 변환
M:N 관계 R에 대한 관계 테이블 S를 생성
- R에 참여하는 두 테이블의 키를 S의 외래키로 추가
- S의 키는 두 테이블의 키의 조합
- R에 관계 속성이 있을 경우, S에 추가

참조 무결성 지원을 위하여 CASCADE option을 DELETE와 UPDATE에 대해 정의할 것

### 다중치 속성의 변환
다중치 속성A에 대해 새로운 테이블 S를 생성
- S의 구조 = (A포함한 테이블키, A)
- ex) 원래 레코드가 (key1, {A1, A2, A3}) 일 경우
    - S에는 (key1, A1), (key2, A2), (key3, A3)
- S의 모든 속성이 키를 구성

### N-ary 관계의 변환
N > 2 인 N-ary 관계는 새로운 테이블 S로 변환
- 관계에 참여하는 모든 entity type의 키를 S의 외래키로 추가
- 관계 속성들은 S의 속성으로 저장
- S의 키: 모든 외래키들의 조합
    - 예외 조건: Cardinality가 1인 entity type의 키는 제외

## EER 모델에서 관계형 모델로 변환
- A: 상위 클래스와 하위 클래스를 모두 테이블로 변환
- B: 하위 클래스만 테이블로 변환
- C: 모든 클래스를 하나의 테이블에 통합하며, 하나의 타입 속성을 추가
- D: 모든 클래스를 하나의 테이블에 통합하며, 여러 개의 타입 속성을 추가