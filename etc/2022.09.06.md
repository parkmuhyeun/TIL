# 2022.09.06
#etc/2022.09.06

---

```
데이터베이스 설계
: 사용자의 요구를 분석하여 그것에 맞게 설계하고 특정 

데이터베이스 설계 순서
:요구 조건 분석 → 개념적 설계 → 논리적 설계 → 물리적 설계 → 구현
ㄱ. 개념적 설계 : 개념 스키마, E-R 모델, 트랜잭션 모델링
ㄴ. 논리적 설계 : 논리 스키마 설계 /  트랜잭션 인터페이스 설계 / 관계형 DB - Table, 계층형 DB - Tree, 망형 DB - Graph
ㄷ. 물리적 설계 : 컴퓨터에 저장

데이터베이스 설계 시 고려사항
- 무결성, 일관성, 회복, 보안, 효율성, 데이터베이스 확장

데이터 모델의 개념

데이터 모델
현실 세계의 정보들을 컴퓨터에 표현하기 위해서 단순화, 추상화하여 체계적으로 표현한 개념적 모형

데이터 모델의 구성 요소
개체(Entity), 속성(Attribute), 관계(Relation)

데이터 모델의 종류
개념적 데이터 모델, 논리적 데이터 모델, 물리적 데이터 모델
데이터 모델에 표시할 요소
ㄱ. 구조(Structure) : 개체 타입들 간의 관계, 데이터 구조 및 정적 성질 표현
ㄴ. 연산(Operation) : 저장된 데이터를 처리하는 작업에 대한 명세, DB를 조작하는 기본 도구
ㄷ. 제약 조건(Constraint) :  데이터의 논리적인 제약 조건

데이터 모델의 구성 요소

개체
데이터베이스의 표현하려는 정보
- 유형, 무형의 정보로서 서로 연관된 몇 개의 속성으로 이루어짐
- 유일한 식별자에 의해 식별이 가능
- 개체(튜플)의 수를 카디널리티라고 함
- 개체 인스턴스 : 개체를 구성하고 있는 속성들이 값을 가져 하나의 개체를 나타내는 것

릴레이션 스키마와 인스턴스
ㄱ. 릴레이션
주로 테이블(Table)과 같은 의미로 사용되며, 데이터의 집합을 의미한다. 튜플(Tuple)과 어트리뷰트(Attribute)로 구성됨
ㄴ. 스키마
관계 데이터베이스의 릴레이션이 어떻게 구성되는지 어떤 정보를 담고 있는지에 대한 기본적인 구조를 정의
- 테이블에서 스키마는 첫 행인 헤더에 나타나며 데이터의 특징인 속성, 자료 타입 등의 정보를 담고 있음
ㄷ. 인스턴스
정의된 스키마에 따라 테이블에 실제로 저장되는 데이터의 집합
ㄹ. 튜플(=레코드(Record)=행(Row))
릴레이션을 구성하는 각각의 행
- 튜플의 수 = 카디널리티 = 기수
ㅁ. 도메인(Domain)
: 하나의 속성(Attribute)이 취할 수 있는 같은 타입의 원자 값들의 집합
ㅂ. 속성(Attribute)
: 릴레이션을 구성하는 각각의 열(DB의 가장 작은 논리 단위) - 데이터 베이스를 구성하는 가장 작은 논리적 단위
- 파일 구조상 데이터 항목 또는 데이터 필드에 해당
- 개체의 특성을 기술함
- 속성의 수 = 디그리(Degree) = 차수

속성의 분류
ㄱ. 기본키 속성(Primary Key Attribute) : 개체를 식별할 수 있는 속성 ex) 학번
ㄴ. 외래키 속성(Foreign Key Attribute) : 다른 개체와의 관계에서 포함된 속성
ㄷ. 일반 속성 : 개체에 포함되어 있지만 기본키, 외래키가 아닌 속성

관계

개체 간의 논리적인 연결
[개체 간 관계는 점선, 속성 간 관계는 실선으로 표현]

관계의 형태
- 1:1, 1:N, N:M 3가지 관계가 있음

식별 / 비식별 관계
- 식별 관계 : A,B 개체 간의 관계에서 A 개체의 기본키가 B 개체의 외래키면서 동시에 기본인 것
- 비식별 관계 : A,B 개체 간의 관계에서 A 개체의 기본키가 B 개체의 외래키이지만 기본키는 아닌 것
- 한 개체의 기본키를 다른 개체가 기본키로 사용하면 식별, 아니면 비식별

식별자

식별자
하나의 개체 내에서 각각의 인스턴스를 유일하게 구분 지을 수 있는 것

식별자의 분류
ㄱ. 대표성 여부 : 개체를 유일하게 식별할 수 있음
a. 주 식별자
- 개체를 대표하는 유일한 식별자 ex) 학번
- 주 식별자의 특징 : 유일성, 최소성, 불변성, 존재성
b.보조 식별자 : 주 식별자를 대신하여 개체를 식별할 수 있는 것 ex) 이름 or 학과 or 학년 등 유일하지 않은 것

ㄴ. 스스로 생성 여부
a. 내부 식별자 : 개체 내에서 스스로 만들어지는 식별자
b. 외부 식별자 : 다른 개체와의 관계에서 만들어지는 식별자
ㄷ. 단일 속성 여부
 a. 단일 식별자 : 주 식별자가 한 가지 속성으로 구성된 식별자
 b. 복합 식별자 : 주 식별자가 두 개 이상의 속성으로 구성된 식별자

ㄹ. 대체 여부
a. 원조 식별자(=본질 식별자) : 업무에 의해 만들어지는 가공되지 않은 원래의 식별자
b. 대리 식별자 : 주 식별자의 속성이 두 개 이상인 경우 속성들을 하나의 속성으로 묶어 사용하는 식별자

 E-R(개체-관계) 모델

E-R 모델 (Entity, Attribute, Relationship)
: E-R 모델은 개념적 데이터 모델의 가장 대표적인 모델

E-R 다이어그램
: E-R 모델의 기본 아이디어를 쉽게 기호를 사용하여 시각적으로 표현한 것
- 표기법에는 피터 첸 표기법, 정보 공학 표기법 등이 있음
ㄱ. 피터 첸 표기법
a. 사각형 : 개체 타입
b. 마름모 : 관계 타입
c. 타원 : 속성 타입
d. 이중 타원 : 복합 속성
e. 밑줄 타원 : 기본키 속성
f. 복수 타원 : 복합 속성
g. 관계 : 1:1, 1:N, N:M 같은 관계에 대한 대응 수
ㄴ. 정보 공학 표기법
- 관계 표시 기호
a. | : 1 
b. O : 0
c. <: N

관계형 데이터베이스의 구조

관계형 데이터베이스
: 가장 많이 사용되는 데이터베이스로서 흔히 행(Row)과 열(Column)로 표현되는 테이블간의 관계를 나타낼 때 사용되며, 이렇게 표현된 데이터베이스는 SQL을 통하여 관리 및 접근한다.

RDB 종류
- Oracle, MySQL(Oracle) / MS-SQL(Microsoft) / DB2, Infomix(IBM) / Maria DB(Sun Microsystems) / Derby(Apache) / SQLite(Opensource)

관계형 데이터베이스의 제약 조건

Key의 개념
key는 데이터베이스에서 조건에 맞는 튜플을 찾거나 정렬할 때 튜플을 서로 구분할 수 있는 기준이 되는 속성

Key의 종류
ㄱ. 후보키
기본키로 사용할 수 있는 속성
- 유일성과 최소성의 성질을 만족
ㄴ. 기본키
: 후보 키 중에서 선정된 Main Key로 중복된 값을 가질 수 없음
- 후보 키의 부분집합
- NULL 값을 가질 수 없음(=개체 무결성)
ㄷ. 대체키
: 후보 키가 둘 이상일 때 기본키를 제외한 나머지 후보키
ㄹ. 슈퍼키
한 가지 속성일 땐 Key가 될 수 없지만 여러 속성이 뭉쳐서 
Key의 속성을 가짐
-유일성의 성질을 만족
ㅁ. 외래키
: 다른 릴레이션의 기본 키를 참조한 것
- 외래 키의 값은 참조한 릴레이션의 기본키 값과 동일해야 함(=참조 무결성)

정규화

정규화
관계형 데이터베이스에서 정확성을 더욱 유지하기 위해 스키마를 쪼개는 과정
- 데이터베이스의 논리적 설계 단계에서 수행

정규화의 목적
- 데이터 구조의 안정성 및 무결성을 유지
- 이상의 발생을 방지 및 자료 저장 공간의 최소화

이상(Anomaly) - 사용자의 의도와는 상관없이 데이터가 삽입, 삭제, 갱신되는 현상

정규화 과정
: 1NF -> 2NF -> 3NF -> BCNF -> 4NF -> 5NF
ㄱ. 1NF(제1 정규형)
: 릴레이션에 속한 모든 값들이 원자 값으로만 구성
ㄴ. 2NF(제2 정규형)
기본키가 아닌 모든 속성이 기본키에 대하여 완전 함수적 종속을 만족
a. 완전 함수적 종속 : 기본키에 의해서 속성이 결정
b. 부분 함수적 종속 : 기본키의 일부에 의해 속성이 결정
ㄷ. 3NF(제3 정규형)
기본키가 아닌 모든 속성이 기본키에 대해 이행적 종속을 만족하지 않음
- 이행적 종속 : A → B, B → C 일 때 A → C를 만족하는 관계
- BCNF(Boyce-Codd정규형) : 결정자가 모두 후보키가 되도록 테이블 분해
ㄹ. 4NF(제4 정규형)
릴레이션에 다치 종속이 성립하는 경우 모든 속성이 함수적 종속 관계를 만족
ㅁ. 5NF(제5 정규형)
모든 조인 종속이 후보키를 통해서만 성립

정규화
정규화된 데이터를 다시 통합, 중복, 분리하는 과정으로 의도적으로 정규화 원칙을 위

반정규화

반정규화
정규화된 데이터를 다시 통합, 중복, 분리하는 과정으로 의도적으로 정규화 원칙을 위해
- 과도한 정규화로 성능이 떨어졌을 때 실행

반정규화의 종류
ㄱ. 테이블 통합
하나의 테이블로 합쳐 사용하는 것이 성능 향상에 도움이 될 경우 수행
ㄴ. 테이블 분할
테이블을 수평 또는 수직으로 분할
ㄷ. 중복 테이블 추가
여러 테이블에서 데이터를 추출해서 사용해야 하거나 다른 서버에 저장된 테이블을 이용해야 하는 경우 수행
ㄹ. 중복 속성 추가
조인해서 데이터를 처리할 때 데이터를 조회하는 경로를 단축하기 위해 자주 사용하는 속성을 하나 더 추가
```